<view class="container_nav">
  <!--左侧栏-->
  <view class="nav_left">
    <block wx:for="{{goods}}" wx:key="id">
      <!--当前项的id等于item项的id，那个就是当前状态-->
      <!--用data-index记录这个数据在数组的下标位置，使用data-id设置每个item的id值，供打开2级页面使用-->
      <view class="nav_left_items {{curNav === item.id ? 'active' : ''}}" 
            bindtap="switchRightTab" 
            data-index="{{index}}" 
            data-id="{{item.id}}">
        {{item.title}}
      </view>
    </block>
  </view>
  
  <!--右侧栏-->
  <view class="nav_right">
    <!--如果有数据，才遍历项-->
    <view wx:if="{{goods[curIndex].nodes[0]}}">
      <block wx:for="{{goods[curIndex].nodes}}" wx:key="id">
        <view class="nav_right_items">    
          <!-- 商品的logo图 -->
          <view class="logo">
            <image src="{{item.logoSrc}}" ></image>
          </view>

          <!-- 商品的内容：标题、具体描述、价格 -->
          <view class="content">
            <text class="content_title">{{item.title}}</text>
            <text class='content_description'>{{item.description}}</text>
            <text class="content_price">￥{{item.price}}</text>
          </view>

          <!-- 操作 -->
          <view class="add">
            <!-- 当预购数量大于0才显示的减少按钮 -->
            <text wx:if="{{item.preOrder}}" 
                  class="fa fa-minus-square fa-lg"
                  bindtap="reducePreOrder"
                  data-index="{{index}}"
                  style='float:left;'> </text>
            <!-- 当预购数量大于0才显示的预购数量 -->
            <text wx:if="{{item.preOrder}}">  {{item.preOrder}} </text>
            <!-- 增加按钮 -->
            <text class="fa fa-plus-square fa-lg" 
                  style='color: red;'
                  bindtap='addPreOrder'
                  data-index="{{index}}"
                  style='float:right;'> </text>
            <!-- 增加按钮会引发的弹窗层 -->
            <modal hidden="{{hiddenmodalput}}" 
                   title="{{curGood.title}}" 
                   confirm-text="确定" 
                   cancel-text="取消" 
                   bindcancel="cancel" 
                   bindconfirm="confirm"
                   class="modal"> 
              <block wx:for="{{curGood.options}}" wx:for-item="options" wx:key="id">
                <!-- 选项标题 -->
                <text class="option_title">{{options.title}}</text>
                <!-- 选项组 -->
                <radio-group class="radio-group">
                  <label class="radio" wx:for="{{options.select}}"  wx:for-item="item" wx:key="itemId">
                    <radio value="{{item.value}}" checked="{{item.checked}}"/>{{item.name}}
                  </label>
                  <view class='wall'></view>
                </radio-group>
              </block>              
            </modal>  
          </view>
        </view>
      </block>
    </view>

    <!--如果无数据，则显示数据-->
    <view wx:else>暂无这类猪崽的数据•̀(oo)•́</view>
    
  </view>

  <!-- 最底部的购物车 -->
  <view class='cart'>
    <!-- 如果购物车不为空，则显示 -->
    <view wx:if="{{count}}">
      <!-- 购物车的左边：购物车logo以及价格信息 -->
      <view class='cart_left'>
        <!-- 购物车locart_leftgo以及其右上角的数量提示 -->   
        <view class='cart_left_logo'>
          <text class='fa fa-cart-plus fa-4x active' ></text>
          <view class='cart_left_logo_count'>
            <text>{{count}}</text>
          </view>               
        </view>
        <!-- 在当前购物车的商品的总价 -->
        <view class='cart_left_text_active'>
          <text>￥{{sum}}</text>
        </view> 
      </view>
      <!-- 购物车的右边：点击跳转到订单页面 -->
      <view class='cart_right_active' bindtap="showCartModal">选好了</view>  
    </view>

    <!-- 如果购物车为空，则显示 -->
    <view wx:else>
      <!-- 购物车的左边：购物车logo以及价格信息 -->
      <view class='cart_left'>
        <!-- 空的购物车logo -->
        <view class='cart_left_logo'>
          <text class='fa fa-cart-plus fa-4x' ></text>
        </view>
        <!-- 空空如也的提示 -->
        <view class='cart_left_text'>
          <text>购物车空空如也~</text>
        </view>  
      </view>
      <!-- 购物车的右边：点击跳转到订单页面 -->
      <view class='cart_right'>选好了</view>
    </view>
  </view>
</view>